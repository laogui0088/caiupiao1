-- ================================================================
-- 游戏标识统一修复SQL
-- 执行时间: 2025-10-14
-- 用途: 将所有表中的game字段统一为标准英文标识
-- ================================================================

-- 1. 备份提示
-- 执行前请先备份数据库!
-- mysqldump -u root -p think_admin > backup_before_fix.sql

-- ================================================================
-- 2. 统一 caiji 表的game字段
-- ================================================================
UPDATE `think_caiji` SET `game` = 'xyft' WHERE `game` = '幸运飞艇';
UPDATE `think_caiji` SET `game` = 'xyft' WHERE `game` LIKE '%飞艇%';

-- ================================================================  
-- 3. 统一 number 表的game字段
-- ================================================================
UPDATE `think_number` SET `game` = 'xyft' WHERE `game` = '幸运飞艇';
UPDATE `think_number` SET `game` = 'xyft' WHERE `game` LIKE '%飞艇%';

-- ================================================================
-- 4. 统一 order 表的game字段
-- ================================================================
UPDATE `think_order` SET `game` = 'xyft' WHERE `game` = '幸运飞艇';
UPDATE `think_order` SET `game` = 'xyft' WHERE `game` LIKE '%飞艇%';

-- ================================================================
-- 5. 统一 message 表的game字段
-- ================================================================
UPDATE `think_message` SET `game` = 'xyft' WHERE `game` = '幸运飞艇';
UPDATE `think_message` SET `game` = 'xyft' WHERE `game` LIKE '%飞艇%';

-- ================================================================
-- 6. 检查修复结果
-- ================================================================
SELECT '采集表game统计:' as 表名, game, COUNT(*) as 数量 FROM `think_caiji` GROUP BY game;
SELECT '开奖表game统计:' as 表名, game, COUNT(*) as 数量 FROM `think_number` GROUP BY game;
SELECT '订单表game统计:' as 表名, game, COUNT(*) as 数量 FROM `think_order` GROUP BY game;
SELECT '消息表game统计:' as 表名, game, COUNT(*) as 数量 FROM `think_message` GROUP BY game;

-- ================================================================
-- 7. 标准game字段值说明
-- ================================================================
-- 'xyft'   - 幸运飞艇
-- 'ssc'    - 重庆时时彩
-- 'pk10'   - 北京PK10
-- 'lhc'    - 六合彩
-- 'k3'     - 快3
-- 'bj28'   - 北京28
-- 'jnd28'  - 加拿大28
-- 'er75sc' - 二七十五

-- ================================================================
-- 完成提示
-- ================================================================
SELECT '✅ 游戏标识修复完成!' as 状态;
